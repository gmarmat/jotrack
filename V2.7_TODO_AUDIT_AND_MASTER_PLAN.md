# v2.7 TODO Audit & Master Plan

**Date**: October 15, 2025  
**Source**: Comparison of product strategy doc vs current implementation  
**Status**: 7/22 core tasks done, 15 remaining + 12 discovered

---

## üìä Implementation Status vs Strategy Doc

### ‚úÖ **COMPLETED** (Phases 1, 3, 5 Partial)

| Strategy Phase | What We Built | Status |
|---|---|---|
| **Phase 1: Foundation** | Database schema (artifact_variants, user_profile, analysis_dependencies, extraction_queue) | ‚úÖ 95% |
| **Phase 1: Extraction Engine** | resumeExtractor, jdExtractor, local text extraction (mammoth/pdf-parse) | ‚úÖ 100% |
| **Phase 3: Change Detection** | Hash-based fingerprinting, staleness API, triggers | ‚úÖ 100% |
| **Phase 3: Staleness UI** | Orange/blue banners, severity levels | ‚úÖ 100% |
| **Phase 5: Rate Limiting** | 30s cooldown on re-analysis | ‚úÖ 100% |
| **Phase 5: Analyze All** | Global orchestrator, fingerprint updates | ‚úÖ 90% |
| **NEW: Two-Button System** | "Refresh Data" + "Analyze All" separation | ‚úÖ 100% |
| **NEW: Cost Transparency** | Display $0.02/$0.20 on buttons | ‚úÖ 100% |
| **NEW: Changelog Display** | Detailed AI semantic comparison UI | ‚úÖ 100% |

**Key Achievement**: We actually **exceeded** the original strategy with the two-button UX and semantic AI comparison!

---

## üöß **IN PROGRESS** (Current TODO List: 15 Items)

### Phase 2: Profile System
- [ ] `jobProfileBuilder.ts` - Accumulate insights per job
- [ ] `globalProfileAccumulator.ts` - Merge to singleton user_profile
- [ ] Coach Mode integration for discovery questions

### Phase 4: Data Reuse  
- [ ] Connect FitTable to real API (replace mock)
- [ ] Integrate signal evaluation AI (replace mock)
- [ ] Add UI indicators for missing data
- [ ] Quick action buttons ("Upload JD")

### Phase 5: Global Orchestration Polish
- [ ] "Analyze All" should check variants exist first
- [ ] Smart 4-state banner system (NO_VARIANTS, VARIANTS_FRESH, etc.)
- [ ] E2E test: Upload‚ÜíRefresh‚ÜíAnalyze flow

### Phase 6: People Profiles
- [ ] `linkedinProfileExtractor.ts` (recruiter/HM/peer)
- [ ] `coverLetterExtractor.ts`
- [ ] Unified profile schema

### Documentation
- [ ] `ARTIFACT_VARIANTS_GUIDE.md`
- [ ] `MULTI_USER_MIGRATION_GUIDE.md`

---

## üîç **NEWLY DISCOVERED** (From Strategy Doc: 12 Items)

### Phase 4: Dependency Tracking (Not Fully Implemented)
- [ ] Track which variants were used by which analyses
- [ ] Auto-invalidate cache when dependencies change
- [ ] UI showing "This analysis used: Resume v3, JD v2"

### Quality & Validation
- [ ] Human review of 100 sample extractions (QA gate)
- [ ] A/B test staleness message variants (3 options)
- [ ] Parallel testing: 10% users get full-text, compare accuracy
- [ ] Extraction success rate monitoring (target: >95%)

### User Controls
- [ ] "Re-extract" button for manual variant refresh
- [ ] Export profile data feature
- [ ] Delete profile data feature
- [ ] "What we learned about you" transparency UI

### Metrics & Monitoring
- [ ] Token usage tracking per analysis
- [ ] Savings metrics dashboard ("You've saved $X this month")
- [ ] Extraction error alerting
- [ ] Cache hit rate monitoring (target: >80%)

---

## üéØ **Updated Master Plan**

### **Sprint 1: Core Polish** (This Week)
**Goal**: Ship v2.7.0 with rock-solid two-button system

#### Must-Have (3-5 hours)
1. ‚úÖ Two-button UI (DONE)
2. ‚úÖ "Refresh Data" API (DONE)
3. ‚úÖ Changelog display (DONE)
4. [ ] "Analyze All" variants check (30 min)
5. [ ] Smart banner states (1 hour)
6. [ ] E2E test (1 hour)

#### Nice-to-Have
7. [ ] Token savings display ("Saved $2.50 this week")
8. [ ] "Re-extract" manual button

**Ship Criteria**: Can upload‚Üírefresh‚Üíanalyze with clear feedback

---

### **Sprint 2: Profile System** (Next Week)
**Goal**: Enable cross-job learning

#### Phase 2 Implementation
9. [ ] `jobProfileBuilder.ts` - Extract job-specific insights
10. [ ] `globalProfileAccumulator.ts` - Merge to global profile
11. [ ] Coach Mode hooks for discovery data
12. [ ] Unit tests for profile deduplication
13. [ ] UI showing "Skills learned from Job A"

**Ship Criteria**: Job 2 pre-populates insights from Job 1

---

### **Sprint 3: Real AI Integration** (Week After)
**Goal**: Replace all mocks with real AI

#### Phase 4 Implementation
14. [ ] Connect FitTable component to GPT-4o
15. [ ] Integrate signal evaluation AI
16. [ ] Update Match Score to use variants
17. [ ] Update Skills Match to use variants
18. [ ] Dependency tracking implementation
19. [ ] Measure token reduction (target: >70%)

**Ship Criteria**: Full analysis runs with real AI, <$0.10 total cost

---

### **Sprint 4: People Profiles** (Optional)
**Goal**: Extract recruiter/HM/peer profiles

#### Phase 6 Implementation
20. [ ] LinkedIn profile extractor
21. [ ] Cover letter extractor
22. [ ] Unified profile schema
23. [ ] People profile UI cards

**Ship Criteria**: Can paste LinkedIn URL, see extracted profile

---

### **Sprint 5: Polish & Launch** (Optional)
**Goal**: Production-ready v2.7

#### Quality Gates
24. [ ] Human review 100 extractions
25. [ ] A/B test staleness messages
26. [ ] Parallel testing (accuracy validation)
27. [ ] Export/delete profile features
28. [ ] Beta with 10 users

**Ship Criteria**: >90% positive feedback, <5% extraction errors

---

## üìà **Success Metrics** (From Strategy Doc)

### North Star: Unit Economics
- **Current**: ~$0.35 per full analysis (estimated)
- **v2.7 Target**: <$0.10 per analysis
- **Measured So Far**: Unknown (need to add tracking)

### User Engagement
- **Staleness Alert CTR**: Target >60%
- **Multi-Job Retention**: Target +40%
- **Resume Iteration Rate**: Target +3x

### Technical Performance
- **Extraction Speed**: Target <5s per document
- **Analysis Speed**: Target <10s for full suite
- **Cache Hit Rate**: Target >80%

---

## üö® **Critical Gaps**

### Missing from Current Implementation
1. **No metrics tracking yet** - Can't measure 75% token reduction claim
2. **No dependency tracking** - Can't auto-invalidate cache
3. **No profile system** - Can't do cross-job learning
4. **Mocks everywhere** - Not using real AI for sections
5. **No user controls** - Can't export/delete profile
6. **No QA validation** - Haven't reviewed extraction quality

### Risk Mitigation Needed
- **Extraction Quality**: Validate on 100 samples before GA
- **User Education**: A/B test staleness message clarity
- **Accuracy Validation**: Parallel test variants vs full-text

---

## üéØ **Recommended Priorities**

### Option A: Ship v2.7.0 MVP Now (Fastest)
**Scope**: Sprints 1 only (5 hours)
- Polish two-button system
- Add variants check to "Analyze All"
- E2E test
- **Ship date**: Tomorrow

**Pros**: Get user feedback ASAP, validate core concept  
**Cons**: No profile system, no real AI integration yet

---

### Option B: Ship v2.7.0 Complete (Balanced)
**Scope**: Sprints 1-3 (2 weeks)
- Sprint 1: Polish two-button system
- Sprint 2: Profile system (cross-job learning)
- Sprint 3: Real AI integration
- **Ship date**: October 29

**Pros**: Feature-complete per strategy doc, measurable ROI  
**Cons**: More time before user feedback

---

### Option C: Full Strategy Implementation (Thorough)
**Scope**: All 5 sprints (4 weeks)
- Everything above
- People profiles
- QA validation
- Beta testing
- **Ship date**: November 12

**Pros**: Production-ready, validated, all features  
**Cons**: Long time to ship, might over-engineer

---

## üí° **My Recommendation**

**Ship Option A (MVP) this week, then iterate based on usage data.**

### Rationale:
1. ‚úÖ Core value prop is done (two-button system, change detection, cost transparency)
2. ‚úÖ You can test it yourself on real job applications
3. ‚úÖ Strategy doc says "ship fast, iterate" - this aligns
4. ‚úÖ Profile system is cool but not critical for single-user validation
5. ‚úÖ Real AI integration can wait until you confirm core UX works

### What to Build Right Now (5 hours):
1. **30 min**: Add variants check to "Analyze All"
2. **1 hour**: Implement smart 4-state banner logic
3. **1 hour**: E2E Playwright test
4. **30 min**: Add token savings counter ("Saved $X")
5. **2 hours**: Test on your real resumes, fix bugs

### Then:
- Use it for a week on real job applications
- Collect your own feedback
- Decide if profile system is worth building (Sprint 2)
- Iterate based on your experience

---

## üìù **Updated TODO List** (Prioritized)

### üî• **Critical (Ship v2.7.0 MVP)**
1. [ ] "Analyze All": Check variants exist, show error if missing
2. [ ] Smart banner states: NO_VARIANTS ‚Üí VARIANTS_FRESH ‚Üí STALE
3. [ ] E2E test: Upload‚ÜíRefresh‚ÜíAnalyze‚ÜíVerify
4. [ ] Token savings counter in UI

### üìã **Important (v2.7.1)**
5. [ ] jobProfileBuilder.ts
6. [ ] globalProfileAccumulator.ts  
7. [ ] Coach Mode profile integration
8. [ ] Metrics tracking infrastructure

### üíº **Business Value (v2.7.2)**
9. [ ] Connect FitTable to real AI
10. [ ] Integrate signal evaluation AI
11. [ ] Dependency tracking
12. [ ] Token reduction measurement

### üé® **Polish (v2.8)**
13. [ ] LinkedIn profile extractor
14. [ ] Cover letter extractor
15. [ ] Export/delete profile
16. [ ] "Re-extract" button
17. [ ] QA validation (100 samples)
18. [ ] A/B test staleness messages

### üìö **Documentation (v2.8)**
19. [ ] ARTIFACT_VARIANTS_GUIDE.md
20. [ ] MULTI_USER_MIGRATION_GUIDE.md
21. [ ] Beta testing runbook
22. [ ] Metrics dashboard

---

## ‚úÖ **Decision Point**

**Which option do you want to pursue?**

**A) MVP (5 hours)** - Ship minimal viable v2.7 this week  
**B) Complete (2 weeks)** - Full strategy implementation  
**C) Thorough (4 weeks)** - Everything + QA + beta

**Or continue building right now?** (I can start on the critical 4 items)

---

**Document Status**: ‚úÖ AUDIT COMPLETE  
**Next Action**: Your decision on scope  
**Estimated Remaining Work**:
- Option A: 5 hours
- Option B: 40 hours  
- Option C: 80 hours

